حالا گوش کن روی الگوریتمی که می‌خوایم پیاده کنیم و یک آپدیتی باشه برای کتاب خونمون ما اول باید اون جایی که داشتیم منطقی برای پیدا کردن سقف و کف‌های فرکتال رو داشتیم اون چطوری بود اون رو باید ویرایش کنیم اونجا ما میومدیم کله‌ها یکی یکی عقب تا ۲۰۰ تا کندل بود و تا وقتی که به اولین ساختار سقف یا کفه رسیدیم خارج می‌شدیم ولی این بار نه با توجه به عددی که در اینپوت ورودی تعریف می‌شه مثلاً اعداد مثل ۵ یا ۱۰ می‌گیره خب ما تا با توجه به این عددی که اینجا گرفته شروع می‌کنه این فرکتالی‌های ما همچون منطقه قبلی همونجوری باید باشه لازم نحوه اینکه فرکتال چیست همونجوریه عقب وقتی اولین فرکتال رو پیدا کرد این فرکتال رو ذخیره می‌کنه اطلاعاتشو اطلاعاتی که از ذخیره می‌کنه خب ما داریم میایم عقب با توجه به نوعی پوزیشن گرفتیم اگر ما اینجا فرض می‌گیریم بای گرفتیم خب باید سقف رو ذخیره کنیم وقتی رسیدیم به یک سقف سقف رو به عنوان سقف صفر در نظر می‌گیریم و اون رو قیمتشو و زمانشو ذخیره‌سازی کامل می‌کنیم بعد شروع می‌کنیم همینطور به عقب رفتنمون ادامه میدیم یعنی دوباره از اول این کارو نمی‌کنیم از همون جا شروع این عقب رفتنه رو ادامه میدیم به عقب به یک سقفی رسیدیم اون رو ذخیره می‌کنیماین عمل تا کی ادامه داره تا اینکه یا اون ۲۰۰ تا کندلی که اجازه داده شده تموم بشه یا اینکه تعداد ساختار مشخص شده همون ۵ و ۱۰ که گفتم تکمیل بشه یعنی به ۵ تا از این سقف‌های فرکتالی برسه یا ۱۰ تا از این سقف‌های فرکتالی برسیم بعد که به این رسید بریک می‌کنه و خارج میشه 

حالا ما پس الان این اتفاق افتاده باشه ما در یک آرایه یا در هر چیزی این موارد رو ذخیره کردیم خب حالا پس یه آرایی داریم ما فرض می‌گیریم ۵ تا داره خب که در واقع اولین ساختار داخل این آرایه که بهش می‌گفتیم سقف صفر اولین عضو این آرایه بود و این پس میشه جدیدترین ما و اون که آخرین عضو این هست میشه قدیمی‌ترین 
قبل از اینکه سیستم شروع کنه یه کار دیگه هم باید بکنه که اینجا من یادم رفت اول بهت بگم اولین کاری که سیستم می‌کنه چک می‌کنه که آیا این آرایه‌ای که الان ما داریم مقدار گرفته و پر شده این خالی هست یا نه اگه خالی بود خب میاد چیکار میکنه هیچی از همون کندل شروع می‌کنه به عقب مقدار داشت و پر بود میاد اون جدیدترین ساختاری که داره عضو اولش رو حالا نمی‌دونم این عضو اول قرار می‌گیره چون ببین ما عضو آخر میشه چون اگه از اونور دیگه حساب کنیم عضو آخرم می‌شه اینو نمی‌دونم چجوری میشه بالاخره اونی که جدید جدیده می‌خوایم یعنی جدیدترین رو همون سقف صفر رو نگاه می‌کنیم زمانش چیه اگه زمانشو در نظر می‌گیره و در این حرکت بعدی که داره انجام میده یعنی بعد حالا اینکه اگر وجود داشت و زمان داشت دیگه برگشت به عقب دیگه تا ۲۰۰ تا نمی‌دونم تا ۵ تا ساختار نیست بلکه تا زمانی هست که این برابرش شده یعنی کندها رو یکی یکی میاد عقب تا به این زمان برسه در واقع جدید جدیدتر از این رو می‌خواد باشه اگه وجود داشته باشه پیدا کنیم 

حالا ما پس گفتیم تا اینجایی هستیم که ما چند تا سقف داشتیم خب حالا این سقف گفتیم زمان قیمتشون هستوظیفه داره که این‌ها رو بیاد دوباره مرتب کنه و روشون کار کنه تابع دیگه میاد این پنج تا رو که بهش دادن زمان این‌ها رو بررسی سقف صفری که گفتیم میاد از لحظه اون سقف صفر به سمت جلو تا لحظه کندل ۱ آخرین کندل بسته شده کمترین قیمت رو پیدا بعد میاد سقف بعدی یعنی سقف یک ما میاد از سقف یک تا سقف صفر این بازه رو زمان‌های هر کدام را دارد بهترین قیمت رو پیدا می‌کنه بعد ذخیره می‌کنه برای بعدی هم همینطور از بازه چند از ۲ تا ۱ این بار باز بعدی میشه چی از از ۳ تا ۲ بعدی میشه از ۴ تا ۳ ۵ تا 4 همینطور=....
حالا ما چی داریم حالا ما یک سری داده‌ها داریم که سقف قیمت سقف مشخص هست خب زمان اون و قیمتش و یک قیمت باز اومدیم کمترینو پیدا کردیم خب حالا دقت داشته باش اگر اینایی که ما ذخیره کردیم یعنی روند نزولی بود این کف‌ها رو ذخیره می‌کردیم اینجا باید بیشترین قیمت بین هر کس پیدا می‌کردیم اوکی 
پس ما الان یک از هر واحد یک سقف صفر داریم یک کف صفر داریم یک سقف یک داریم یک کف یک داریم اوکی رکن مقابل وهمه همزمان هم قیمت مشخص اینجا هرچی پیش نیاز بوده مهیا شده همه این‌ها به جای اون کالا بگیم سقف صفر این‌ها همه معرفی میشن به عنوان نقطه‌ای برای رسم ۱۰۰ مادر و نقطه صفر مادر و حالا به همین ترتیب ما برای مادر شدن خواهد شد کاندید میشن و باید پیششون حالا اعتبارسنجی بشن از اینجا به بعد دیگه ما وارد اون استیت ماشینی که گفتیم باید بشیم و شبیه سازیمونو آغاز کن خوب حالا به ما نقطه صفر مربوط به کف صفر و نقطه ۱۰۰ مربوط به سقف صفر رو به ما میدن خوب برای این ما میایم شروع می‌کنیم رسم مادر رو انجام بدیم رسم مادر روی این انجام میشه دو نقطه داریم دیگه نقطه سرشم داریم نقطه صفرشان داریم رسم انجام میدیم خب بعد چک می‌کنیم انجام میدیم رسمش فیبوناچی رو رسم می‌کنیم اینجا دقت کن بعد حالا چک می‌کنیم آیا فیکس شده اینجا دیگه عملاً وارد اسکندر کف شروع می‌کنیم به چی یکی که جلو رفتن لایو نزدیک شدن بررسی می‌کنیم که آیا قیمت فیکس میشه یا نه اینجا اگر قیمت فیکس نشد اینجا خب خیلی معموله فیکس هستش چرا چون ممکنه همون کندلی کمترین قیمت همون کندل یک باشه دیگه جلوش اصلاً هیچی نباشه که خواسته باشی بری خب پس باید بیا چی حالا نوبت کاندید بعدی شد سقف یک و کف ۱ درسته حالا چه کار می‌کنیم سقف یک رو برای اینکه مادر رو نقطه چین میفته نقطه ۱۰۰ در همون جایی که مشخصه نقطه صفر همون جایی که مشخص شدیم با حالا رسم اتفاق افتاده دوباره اینجا هم دقیقاً از همون کفی که حالا مشخص شده کندل‌ها رو یکی یکی میریم جلو می‌تونیم بریم جلو پژو و یک کارت ویژوال داریم یک حالتی داریم که انگار واقعیت داره پیش میاد که میریم جلو و بررسی می‌کنی فیکس شدی که اتفاق افتاد کندل بعدی میره جلو خیس شدگی باید حالا منتظر چی باشیم مثل قبل فقط باید ما دقت کنیم که آقا ما انگار یک برگشتی داشتیم میایم از همونجا داریم شروع می‌کنیم در واقع انگار شروع بازار اونجاست و جلوتر نمی‌بینیم خوب بعد از این ناحیه شروع می‌کنیم رفتن حالا باید چه کنیم فیکس شدگی اتفاق بیفته حالا اگر بررسی کردیم به کندل حال حاضر رسیدیم به کندل یک رسیدیم خب و فیکس شدگی اتفاق نیفت یا یه حالت دیگه افتاد نقطه صفرش شکسته نقطه صفرشم که بود صفرشم که بشکنه دیگه این کاندیده از رده خارج شده فیکسم نشه این دیده از رده خارج میشه باز باید بریم عقب‌تر کاندیدای بعدی با این روند و تکرار می‌کنیم 


اینجا ما در لحظه‌ای که داریم فیکس شدگی یعنی تا کندل یک پیش میریم در مبحث فیکس شدگی فقط البته دقت کن فقط در مبحث فیکس شدگی اینجا ما در ورودی باید یه حق انتخاب بزاریم چون من شک دارم بین حالت‌ها ما یا جستجو برای فیکس شدگی را از همون لحظه حالا قیمت صفر و کمترین قیمت استفاده می‌کنیم و میریم تا عدد یک یا هم که نه قیمت صفر حق داره بیاد تا چی تا قیمت سقف بعدی خودش وقتی که در مثلاً الان ما در سقف یکیم خب و کف ایجاد شده کف یک باید این لگ باید این مادر باید فیکس شده باشه دیگه حالا برای اینکه فیکس شده باشه قیمت باید بیاد بالا خب حالا تا کی می‌تونه این چک انجام یعنی وقتی که کمترین قیمت پیدا شد یکی یکی گندوله‌ها رو باید بره جلو تا سقف صفر تو این بازه دیگه باید فیکس شدگی برسه اگه نرسه میره عقب‌تر ولی وقتی که اینجا فیکس شد دیگه رسید دیگه اوکی شد دیگه این تایید میشه خب این دیگه مهرش می‌خوره و اینجا فیکس شده خلاص دیگه بعد از اون انگار بازار دقیقا همون کندلی که فیکس شدگی ایجاد شده خب دیگه بعد از اون دیگه همینجوری میایم منطق رو که بعد فیکس شدگی چیکار می‌کردیم هر کار می‌کردیم رو از این نقطه به جلو حرکت میدیم قیمت فعلی ما بیفته در ناحیه طلایی ممکنه بیفته در ساخت فرزند دوم به خصوص در ساخت فرزند اول نمی‌دونم این جاش مشخص نیست که لایو بیفته کجا ولی مبحث فیکس شدگی فیکس شدگی یا باید تا حالت سقف بعدی خود باشه یا تا کندل لایو باشه در صورتی که ما لگ مربوط به سقف و کف صفر باشه که دیگه اون تو لایو دیگه فیکس شده مشکلی نداره متوجه داستان شدی یه بار یه مروری بکن واسه من با جزئیات بیشتر سوالی چیزی بود بپرس



در خصوص فرزند دوم که پیرو فرزند اول باید نقطه صفر فرزند دوم به دست بیاد که از که از لحظه شکست سقف فرزند اول که باعث میشه فرزند دوم فعال بشه قبلش ما باید نقطه صفرشو به دست بیاریم از اون نقطه تا خود صد فرزند اول این فاصله رو کمترین قیمت به دست میاریم دقت کن اگر در یک روند نزولی باشیم بیشترین میشه دیگه بعد این نقطه خواهد شد نقطه صفر این فرزند که پیرو فرزند اول است 
ولی اگر با مادر باشد یعنی ناموفق باشد با نقطه صفر مادر یکی میشه 

خب ساختارها در چه جاهایی باید شکست وقتی که ساختاری پیدا پنج تایی که گفتیم تموم شد تعداد کندل ما تموم شد به هر نحوی نشد نقطه صفر مادر خورد نمی‌دونم کندل مادر فیکس شده پیدا نشد اینا همه باعث میشه که ساختار شکست بخوره و تموم بشه و ارسال اکسپرتم میگه آقا ساختار یافت نشد مثل قبل و اینکه بعدش همه چی روی چارت پاک میشه اون موارد آرایه‌هایی که نوار دوز ذخیره موارد آرایه‌هایی که داخلش داشتیم کامل پاک میشه 


کد فعلی اکسپرت نسخه قبلی این بوده حالا باید این ویرایشات روش اعمال بشه 





